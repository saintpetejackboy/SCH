CREATE TABLE project_stages (
    id INT AUTO_INCREMENT PRIMARY KEY,
    project_id INT,
    site_survey_attachment TEXT,
    site_survey_complete DATETIME,
    site_survey_notes TEXT,
    site_survey_returned VARCHAR(255),
    site_survey_schedule DATETIME,
    design_attachment TEXT,
    design_complete DATETIME,
    design_start DATETIME,
    meter_spot_request DATETIME,
    ntp_complete DATETIME,
    plancheck_completed DATETIME,
    true_up_completed DATETIME,
    permit_receive VARCHAR(255),
    permit_request VARCHAR(255),
    permitting_attachment TEXT,
    permitting_notes TEXT,
    final_inspection_passed DATETIME,
    install_attachment TEXT,
    install_completed DATETIME,
    install_notes TEXT,
    install_scheduled_date DATETIME,
    install_start_date DATETIME,
    mpu_complete DATETIME,
    mpu_schedule DATETIME,
    photos_received DATETIME,
    inspection_completed DATETIME,
    inspection_scheduled_date DATETIME,
    inspection_start_date DATETIME,
    monitoring_completed DATETIME,
    pto_attachment TEXT,
    pto_notes TEXT,
    pto_receive DATETIME,
    pto_request DATETIME,
    escalations BOOLEAN,
    escalations_reason_1 VARCHAR(255),
    escalations_reason_2 VARCHAR(255),
    escalations_reason_3 VARCHAR(255),
    agent_job_status VARCHAR(255),
    cancel_date DATETIME,
    cancellation_notes TEXT,
    cancellation_reason VARCHAR(255),
    cancellation_sub_reason VARCHAR(255),
    date_requested DATETIME,
    live_transfer VARCHAR(255),
    pending_cancel_date DATETIME,
    pending_resolution_date DATETIME,
    re_save BOOLEAN,
    re_save_date DATETIME,
    retention_assigned_to VARCHAR(255),
    retention_base_reason VARCHAR(255),
    retention_set_date DATETIME,
    retention_specific_reason VARCHAR(255),
    save_type VARCHAR(255),
    saved BOOLEAN,
    saved_date DATETIME,
    setter_assigned_to VARCHAR(255),
    setter_job_status VARCHAR(255),
    ntp_invoice_sent_cash DATETIME,
    ntp_payment_received_cash DATETIME,
    funding_requested_finance_ DATETIME,
    funding_approved_finance_ DATETIME,
    customer_planset_approval_sent DATETIME,
    customer_planset_approved DATETIME,
    FOREIGN KEY (project_id) REFERENCES projects(id)
);
